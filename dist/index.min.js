!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("hyperactiv"),require("lit-html"),require("lit-html/directives/repeat"),require("lit-html/directives/cache"),require("lit-html/directives/until"),require("lit-html/directives/live"),require("lit-html/directives/guard"),require("lit-html/directives/class-map"),require("lit-html/directives/style-map"),require("lit-html/directives/if-defined"),require("lit-html/directives/async-append"),require("lit-html/directives/async-replace"),require("lit-html/directives/template-content"),require("lit-html/directives/unsafe-html"),require("lit-html/directives/unsafe-svg")):"function"==typeof define&&define.amd?define(["exports","hyperactiv","lit-html","lit-html/directives/repeat","lit-html/directives/cache","lit-html/directives/until","lit-html/directives/live","lit-html/directives/guard","lit-html/directives/class-map","lit-html/directives/style-map","lit-html/directives/if-defined","lit-html/directives/async-append","lit-html/directives/async-replace","lit-html/directives/template-content","lit-html/directives/unsafe-html","lit-html/directives/unsafe-svg"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).perlite={},e.hr,e.litHtml,e.repeat,e.cache,e.until,e.live,e.guard,e.classMap,e.styleMap,e.ifDefined,e.asyncAppend,e.asyncReplace,e.templateContent,e.unsafeHtml,e.unsafeSvg)}(this,(function(e,t,n,r,i,c,a,o,s,l,u,f,d,p,b,h){"use strict";function v(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var m=v(t);function y(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}const g=()=>{};function E(e){if("true"===e||"false"===e)return"true"===e;if("null"===e)return null;if("undefined"!==e){if(""!==e&&!isNaN(Number(e)))return Number(e);try{return JSON.parse(e)}catch(e){}return e}}function O(e){return e.replace(/-([a-z])/g,((e,t)=>t.toUpperCase()))}function j(e){return e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))}const P=n.directive((e=>t=>e(t.element))),w=new WeakMap,k=n.directive(((e,...t)=>{const n=r=>{const i=r.element;if(w.has(r)){const[i,c]=w.get(r);c!==e?(i.destroy(),w.delete(r),n(r)):i.update(...t)}else{const n=e(i,...t);w.set(r,[n,e])}};return n})),q=n.directive((e=>t=>{if(!(t instanceof n.EventPart))throw new Error('"bind" directive can only be used in event listeners');const r=t.element,i=r instanceof HTMLInputElement,c=r instanceof HTMLSelectElement,a=r instanceof HTMLTextAreaElement,o=r instanceof HTMLButtonElement;if(!(i||c||a||o))throw new Error('"bind" directive can only be applied to input/select/textarea/button elements.');t.setValue((function(...t){let n=r.defaultValue;if(c&&r.options.length>0){const e=r.selectedIndex>=0?r.selectedIndex:0;n=r.options[e].value}else if(i)switch(r.type){case"number":case"range":n=r.valueAsNumber;break;case"checkbox":case"radio":n=!!r.checked;break;case"time":case"date":case"datetime":case"datetime-local":n=r.valueAsDate;break;default:n=r.value}else n=r.value;e.call(this,n,...t)}))})),x=n.directive((e=>t=>{if(!(t instanceof n.EventPart))throw new Error('"capture" directive can only be used in event listeners');t.setValue({handleEvent:e,capture:!0})})),M=n.directive((e=>t=>{if(!(t instanceof n.EventPart))throw new Error('"once" directive can only be used in event listeners');t.setValue({handleEvent:e,once:!0})})),V=n.directive((e=>t=>{if(!(t instanceof n.EventPart))throw new Error('"passive" directive can only be used in event listeners');t.setValue({handleEvent:e,passive:!0})})),N=n.directive((e=>t=>{if(!(t instanceof n.EventPart))throw new Error('"prevent" directive can only be used in event listeners');t.setValue((function(t){t.preventDefault(),e.call(this,t)}))})),T=n.directive(((e,t=!1)=>r=>{if(!(r instanceof n.EventPart))throw new Error('"stop" directive can only be used in event listeners');r.setValue((function(n){t?n.stopImmediatePropagation():n.stopPropagation(),e.call(this,n)}))})),A=n.directive((e=>t=>{if(!(t instanceof n.EventPart))throw new Error('"self" directive can only be used in event listeners');t.setValue((function(t){t.target===this&&e.call(this,t)}))})),{observe:L,computed:S,dispose:H}=m.default,C=(e,...t)=>{var{render:r=(()=>n.nothing),state:i={},target:c=document.body}=e,a=y(e,["render","state","target"]);const o="function"==typeof i?i(...t):i;Object.entries(c.dataset).forEach((([e,t])=>{e in o&&(o[e]=E(t))}));const s=L(o,Object.assign({batch:!0,deep:!0,bind:!0},a)),l=(e,t,{bubbles:n=!1,cancelable:r=!0}={})=>{c.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:n,cancelable:r}))};let u=!1;const f=()=>{n.render(r(s,l,...t),c),u||(l("mount",o),u=!0),l("update",o)},d=S((({computeAsync:e})=>u&&!document.contains(c)?v():(l("state",o),Promise.resolve().then((()=>e(f)))))),p=new Set,b=new Set,h=new MutationObserver((e=>{e.forEach((e=>{if("attributes"!==e.type)return;const t=e.target,n=O(e.attributeName.replace("data-",""));if(!(n in s))return;const r=t.getAttribute(e.attributeName);if(r!==e.oldValue){const e=E(r);s[n]!==e&&(s[n]=e)}}))}));h.observe(c,{attributeFilter:Object.entries(o).reduce(((e,[t,n])=>("function"!=typeof n&&e.push("data-"+j(t)),e)),[]),attributeOldValue:!0,characterData:!1,childList:!1,subtree:!1});const v=()=>{l("destroy",o),h.disconnect(),H(d),b.forEach((e=>e())),b.clear(),p.forEach((e=>e())),p.clear(),c.innerHTML=""};return{on:(e,t,n)=>{c.addEventListener(e,t,n);const r=()=>(c.removeEventListener(e,t,n),p.delete(r));return p.add(r),r},ctx:e=>e(...t),model:o,state:s,effect:(e,t)=>{const n=S(e,t),r=()=>(H(n),b.delete(r));return b.add(r),r},target:c,destroy:v,render:f}};Object.keys(n).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})),Object.keys(r).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})),Object.keys(i).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})})),Object.keys(c).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})})),Object.keys(a).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})})),Object.keys(o).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})})),Object.keys(s).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})})),Object.keys(l).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})})),Object.keys(u).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})})),Object.keys(f).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})})),Object.keys(d).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})})),Object.keys(p).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})})),Object.keys(b).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return b[t]}})})),Object.keys(h).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})})),e.$=C,e.$$=(e,...t)=>{var{target:n}=e,r=y(e,["target"]);n.length||(n=[n]);const i=Array.prototype.map.call(n,(e=>C(Object.assign(Object.assign({},r),{target:e}),...t)));return Object.assign(Object.assign({},i),{effect:(e,t)=>i.map((n=>n.effect(e(n.state),t))),on:(...e)=>i.map((t=>t.on(...e))),destroy:()=>i.forEach((e=>e.destroy())),render:()=>i.forEach((e=>e.render())),state:e=>{i.forEach((t=>e(t.state)))},ctx:e=>e(...t),forEach:Array.prototype.forEach.bind(i),target:n})},e.attrToVal=E,e.bind=q,e.call=(e,...t)=>function(...n){e.call(this,...n,...t)},e.camelCase=O,e.capture=x,e.computed=S,e.dashCase=j,e.decorator=k,e.dispose=H,e.each=(e,t,n=(e=>e))=>r.repeat(e,n,t),e.memo=(e,t)=>{const n=new Map;return(...r)=>{let i;if("function"==typeof t){const c=t.apply(e,r);!1===c?(i=JSON.stringify(r),n.delete(i)):!0!==c&&(i=c)}if(void 0!==i&&(i=JSON.stringify(r)),n.has(i))return n.get(i);const c=e.apply(e,r);return n.set(i,c),c}},e.noop=g,e.observe=L,e.once=M,e.passive=V,e.prevent=N,e.ref=P,e.self=A,e.stop=T,e.tick=(e=g)=>new Promise((e=>setTimeout(e))).then(e),Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.min.js.map
